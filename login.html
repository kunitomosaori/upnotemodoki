<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>„ÅΩ„Å°„Éù„Ç±</title>
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/style.css">
</head>


<body>


    <!-- LOGIN„Éú„Çø„É≥ -->
    <div class="login-wrapping">
        <button id="login" class="login-button">üê∂Doogle„Åß„É≠„Ç∞„Ç§„É≥</button>
    </div>
    <!--/LOGIN„Éú„Çø„É≥ -->


    <!-- JQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script><!--/JQuery -->
    <script type="module">
        //###############################################
        // ÂøÖË¶Å„Å™Firebase„É©„Ç§„Éñ„É©„É™„ÇíË™≠„ÅøËæº„Åø
        //###############################################
        import { initializeApp }
            from "https://www.gstatic.com/firebasejs/9.13.0/firebase-app.js";
        import { getAuth, signInWithPopup, GoogleAuthProvider, signOut, onAuthStateChanged }
            from "https://www.gstatic.com/firebasejs/9.13.0/firebase-auth.js";


        //###############################################
        //FirebaseConfig [ KEY„ÇíÂèñÂæó„Åó„Å¶Ë®≠ÂÆöÔºÅÔºÅ ]
        //###############################################
        const firebaseConfig = {
            apiKey: "AIzaSyDVq2QiPiot5hzhUMdrlj1ibJZPctDcTV4",
            authDomain: "pochi-6400b.firebaseapp.com",
            databaseURL: "https://pochi-6400b-default-rtdb.firebaseio.com",
            projectId: "pochi-6400b",
            storageBucket: "pochi-6400b.appspot.com",
            messagingSenderId: "882528790400",
            appId: "1:882528790400:web:77c694ec929d3ca6698365"
        };
        const app = initializeApp(firebaseConfig);


        //###############################################
        //GoogleAuth(Ë™çË®ºÁî®)
        //###############################################
        const provider = new GoogleAuthProvider();
        provider.addScope('https://www.googleapis.com/auth/contacts.readonly');
        const auth = getAuth();

        //###############################################
        //LoginÂá¶ÁêÜ
        //###############################################
        $("#login").on("click", function () {
            //GoogleË™çË®ºÂÆå‰∫ÜÂæå„ÅÆÂá¶ÁêÜ
            signInWithPopup(auth, provider).then((result) => {
                //LoginÂæå„ÅÆ„Éö„Éº„Ç∏ÈÅ∑Áßª
                location.href = "index.html"; // ÈÅ∑ÁßªÂÖàÊ¨°„Éö„Éº„Ç∏
            }).catch((error) => {
                // Handle Errors here.
                const errorCode = error.code;
                const errorMessage = error.message;
                // The email of the user's account used.
                const email = error.email;
                // The AuthCredential type that was used.
                const credential = GoogleAuthProvider.credentialFromError(error);
                // ...
            });
        });

    </script>
</body>

</html>